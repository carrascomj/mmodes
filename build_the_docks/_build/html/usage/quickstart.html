
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Getting started &#8212; MMODES  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Installing MMODES" href="installation.html" />
    <link rel="prev" title="Welcome to MMODES’s documentation!" href="../index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>An example script is provided on the <a class="reference external" href="https://github.com/carrascomj/mmodes/blob/master/example.py">GitHub repository</a>
and will be here elaborated.</p>
<div class="section" id="first-steps-the-consortium-object">
<h2>First steps: the Consortium object<a class="headerlink" href="#first-steps-the-consortium-object" title="Permalink to this headline">¶</a></h2>
<p>You need some GEM models to run a consortium dynamic simulation.
<a class="reference external" href="http://bigg.ucsd.edu/">BiGG models</a> is good place to start.
Conversely, a model example of <em>Bifidobacterium adolescentis</em> of the
<a class="reference external" href="https://github.com/VirtualMetabolicHuman/AGORA">AGORA database</a>
is provided as example on the <a class="reference external" href="https://github.com/carrascomj/mmodes/tree/master/ModelsInput">ModelsInput</a>.
First, we instantiate a Consortium object, that will contain all the necessary parameters
for the simulation.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mmodes</span> <span class="k">import</span> <span class="n">Consortium</span><span class="p">,</span> <span class="n">dMetabolite</span>
<span class="n">cons</span> <span class="o">=</span> <span class="n">Consortium</span><span class="p">(</span><span class="n">mets_to_plot</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;glc_D[e]&quot;</span><span class="p">,</span> <span class="s2">&quot;ac[e]&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>mets_to_plot</strong> parameter is supplied to later plot these metabolites.
Now, we add the model to the Consortium object.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">path_to_model</span> <span class="o">=</span> <span class="s1">&#39;mmodes/ModelsInput/BGN4_eu.xml&#39;</span> <span class="c1"># provided example GEM</span>
<span class="c1"># Additionally, we&#39;ll instantiate some metabolite</span>
<span class="c1"># to assign kinetic parameters</span>
<span class="c1"># for instance, https://www.ncbi.nlm.nih.gov/pubmed/18791026?dopt=Abstract</span>
<span class="n">glc</span> <span class="o">=</span> <span class="n">dMetabolite</span><span class="p">(</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;glc_D[e]&quot;</span><span class="p">,</span> <span class="n">Km</span> <span class="o">=</span> <span class="mf">14.8</span><span class="p">,</span> <span class="n">Vmax</span> <span class="o">=</span> <span class="mf">0.13</span><span class="p">)</span>
<span class="n">cons</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">path_to_model</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span><span class="n">dMets</span> <span class="o">=</span> <span class="p">{</span><span class="n">glc</span><span class="o">.</span><span class="n">id</span><span class="p">:</span> <span class="n">glc</span><span class="p">})</span>
</pre></div>
</div>
<p>More information of Consortium class can be found on <a class="reference internal" href="../objects/consortium.html"><span class="doc">The Consortium Object</span></a>.</p>
</div>
<div class="section" id="instantiate-the-medium">
<h2>Instantiate the medium<a class="headerlink" href="#instantiate-the-medium" title="Permalink to this headline">¶</a></h2>
<p>The last step previous to running the simulation is assigning a medium to
the Consortium. In the <a class="reference external" href="https://github.com/carrascomj/mmodes/blob/master/example.py">example</a>,
medium is read from a json object (which is nothing more than a dictionary).
Here, we’ll instantiate a medium using all the extracellular metabolites
of the model(s) added in the Consortium.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">abs_media</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="mi">1000</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">cons</span><span class="o">.</span><span class="n">media</span><span class="p">}</span>
<span class="n">cons</span><span class="o">.</span><span class="n">media</span> <span class="o">=</span> <span class="n">cons</span><span class="o">.</span><span class="n">set_media</span><span class="p">(</span><span class="n">abs_media</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cons</span><span class="p">)</span>
</pre></div>
</div>
<p>Make sure that all metabolites in medium are named as in the added GEM models.
MMODES supports working with metabolite ids or names, default is id.
If some metabolites is mispelled, it won’t be added.
Conversely, metabolites present in the extracellular compartment of the GEM members
of the Consortiums but not added to the medium will be set to 0.</p>
</div>
<div class="section" id="run-the-simulation">
<h2>Run the simulation!<a class="headerlink" href="#run-the-simulation" title="Permalink to this headline">¶</a></h2>
<p>The last step is running the simulation.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">cons</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">maxT</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">outp</span> <span class="o">=</span> <span class="s2">&quot;plot_example.png&quot;</span><span class="p">,</span> <span class="n">outf</span> <span class="o">=</span> <span class="s2">&quot;tab_example.tsv&quot;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># print stuff on screen</span>
<span class="k">for</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">cons</span><span class="o">.</span><span class="n">models</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="n">cons</span><span class="o">.</span><span class="n">models</span><span class="p">[</span><span class="n">mod</span><span class="p">]</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">q</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot; -&gt; &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Glucose&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">cons</span><span class="o">.</span><span class="n">media</span><span class="p">[</span><span class="s2">&quot;glc_D[e]&quot;</span><span class="p">]),</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot; -&gt; &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Acetate&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">cons</span><span class="o">.</span><span class="n">media</span><span class="p">[</span><span class="s2">&quot;ac[e]&quot;</span><span class="p">]),</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot; -&gt; &quot;</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>As demonstrated, MMODES allows running an dynamic (p)FBA simulation with a few
lines of code. A TSV file and a plot should’ve been generated on the working directory.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">MMODES</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#first-steps-the-consortium-object">First steps: the Consortium object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#instantiate-the-medium">Instantiate the medium</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-the-simulation">Run the simulation!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installing MMODES</a></li>
<li class="toctree-l1"><a class="reference internal" href="../objects/consortium.html">The Consortium Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../objects/dModel.html">The dModel Object</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../index.html" title="previous chapter">Welcome to MMODES’s documentation!</a></li>
      <li>Next: <a href="installation.html" title="next chapter">Installing MMODES</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Jorge Carrasco Muriel.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/usage/quickstart.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>